

//.........................................................//
//                                                         //
//        Trigger Efficiency scale factor                  //
//                                                         //
//.........................................................//

//2016
float VLLAna:: TriggEff2016MC_IsoMu24( float pt, float eta){
  //
  if( pt<25 || eta>2.4 ) return 0.0;
  float eff = 0.0;
  if(fabs(eta)<=1.5){
    eff = (pt<=60)*(0.940913728184-TMath::Exp(-0.117748363943*(pt-1.12143190634))) + (pt>60)*((0.940913728184-TMath::Exp(-0.117748363943*(60-1.12143190634)))-9.56537416447*0.00001*(pt-60));
  }
  else if(fabs(eta)>1.5 && fabs(eta)<=2.4){
    eff = (pt<=60)*(0.874773469973-TMath::Exp(-0.103534566827*(pt-1.26119466622))) + (pt>60)*((0.874773469973-TMath::Exp(-0.103534566827*(60-1.26119466622)))-3.21733781797*0.00001*(pt-60));
  }
  //
  return eff;
}


float VLLAna::TriggEff2016Data_IsoMu24( float pt, float eta)
{
  if( pt<25 || eta>2.4 ) return 0.0;
  float eff = 0.0;
  if(fabs(eta)<=1.5){
    eff = (pt<=60)*(0.927916095474-TMath::Exp(-0.145918071336*(pt-7.25265566499))) + (pt>60)*((0.927916095474-TMath::Exp(-0.145918071336*(60-7.25265566499)))-0.000208178910505*(pt-60));
  }
  else if(fabs(eta)>1.5 && fabs(eta)<=2.4){
    eff = (pt<=60)*(0.855310854481-TMath::Exp(-0.128710626163*(pt-9.11123614792))) + (pt>60)*((0.855310854481-TMath::Exp(-0.128710626163*(60-9.11123614792)))-0.000479265252731*(pt-60));
  }
  
  return eff;
}

//2017
float VLLAna:: TriggEff2017MC_IsoMu27( float pt, float eta){
  //
  if( pt<29 || eta>2.4 ) return 0.0;
  float eff = 0.0;
  if(fabs(eta)<=1.5){
    eff = (pt<=80)*(0.944988849803-TMath::Exp(-0.0765520731882*(pt+10.6178103972))) + (pt>80)*((0.944988849803-TMath::Exp(-0.0765520731882*(80+10.6178103972)))-9.96646420684*0.00001*(pt-80));
  }
  else if(fabs(eta)>1.5 && fabs(eta)<=2.4){
    eff = (pt<=80)*(0.88629873408-TMath::Exp(-0.102191138214*(pt-5.01023508955))) + (pt>80)*((0.88629873408-TMath::Exp(-0.102191138214*(80-5.01023508955)))-4.12669898253*0.0000000000001*(pt-80));
  }
  //
  return eff;
}

float VLLAna:: TriggEff2017Data_IsoMu27( float pt, float eta){
  //
  if( pt<29 || eta>2.4 ) return 0.0;
  float eff = 0.0;
  if(fabs(eta)<=1.5){
    eff = (pt<=80)*(0.90688869146-TMath::Exp(-0.1405504825*(pt-7.69419952805))) + (pt>80)*((0.90688869146-TMath::Exp(-0.1405504825*(80-7.69419952805)))-0.000135478999816*(pt-80));
  }
  else if(fabs(eta)>1.5 && fabs(eta)<=2.4){
    eff = (pt<=80)*(0.85171461891-TMath::Exp(-0.129490187164*(pt-11.8439634839))) + (pt>80)*((0.85171461891-TMath::Exp(-0.129490187164*(80-11.8439634839)))-4.84055476034*0.00001*(pt-80));
  }
  //
  return eff;
}

//2018
float VLLAna:: TriggEff2018MC_IsoMu24( float pt, float eta){
  //
  if( pt<25 || eta>2.4 ) return 0.0;
  float eff = 0.0;
  if(fabs(eta)<=1.5){
    eff = (pt<=55)*(0.949912325615+2.68001891193*0.00001*TMath::Power(pt,-0.5)-TMath::Exp(-0.10374118089*(pt+0.4343762506))) + (pt>55)*((0.949912325615+2.68001891193*0.00001*TMath::Power(55,-0.5)-TMath::Exp(-0.10374118089*(55+0.4343762506)))-2.68001891193*0.00001*(pt-55));
  }
  else if(fabs(eta)>1.5 && fabs(eta)<=2.4){
    eff = (pt<=55)*(0.881728552912+6.18949336229*0.000000000000001*TMath::Power(pt,-0.5)-TMath::Exp(-0.101586572341*(pt-4.26963874374))) + (pt>55)*((0.881728552912+6.18949336229*0.000000000000001*TMath::Power(55,-0.5)-TMath::Exp(-0.101586572341*(55-4.26963874374)))-6.18949336229*0.000000000000001*(pt-55));
  }
  //
  return eff;
}

float VLLAna:: TriggEff2018Data_IsoMu24( float pt, float eta){
  //
  if( pt<25 || eta>2.4 ) return 0.0;
  float eff = 0.0;
  if(fabs(eta)<=1.5){
    eff = (pt<=55)*(0.928419156519+9.24728175087*0.00001*TMath::Power(pt,-0.5)-TMath::Exp(-0.124285695727*(pt-4.86017165434))) + (pt>55)*((0.928419156519+9.24728175087*0.00001*TMath::Power(55,-0.5)-TMath::Exp(-0.124285695727*(55-4.86017165434)))-9.24728175087*0.00001*(pt-55));
  }
  else if(fabs(eta)>1.5 && fabs(eta)<=2.4){
    eff = (pt<=55)*(0.878354653113+1.74422248204*0.00001*TMath::Power(pt,-0.5)-TMath::Exp(-0.119594821538*(pt-8.31380862175))) + (pt>55)*((0.878354653113+1.74422248204*0.00001*TMath::Power(55,-0.5)-TMath::Exp(-0.119594821538*(55-8.31380862175)))-1.74422248204*0.00001*(pt-55));
  }
  //
  return eff;
}
